<% provide(:title, "Invoices") %>

<h1>Invoices</h1>
<% if policy(Shipment).new? %>
  <p><%= link_to 'Add New Invoice', new_shipment_path, class: "button" %></p>
<% end %>

<%= render partial: 'search_form', object: search_form %>

<% if @shipments.any? %>
  <ul class="stack-for-small secondary button-group">
    <li>
      <%= link_to export_pdf_shipments_path(search: params[:search]), target: '_blank', class: "button" do %>
        <i class="fi-page-export-pdf"></i> Export Invoices
      <% end %>
    </li>
    <li>
      <%= link_to export_csv_shipments_path(search: params[:search]), target: "_blank", class: "button" do %>
        <i class="fi-page-export-csv"></i> Export CSV
      <% end %>
    </li>
    <li>
      <%= link_to export_iif_shipments_path(search: params[:search]), target: "_blank", class: "button" do %>
        <i class="fi-page-export"></i> Export QuickBooks
      <% end %>
    </li>
  </ul>
<% end %>

<table class="responsive-table">
  <thead>
    <tr>
      <th scope="col">Invoice</th>
      <th scope="col">Date</th>
      <th scope="col">Client</th>
      <th scope="col">Price</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <%= render shipments %>
  </tbody>
</table>

<%= will_paginate @shipments %>
