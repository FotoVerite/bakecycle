<% provide(:title, "Shipments") %>

<div class="row">
  <div class="small-12 medium-8 columns">
    <h1>Shipments</h1>
    <p><%= link_to 'Add New Shipment', new_shipment_path, class: "button" %></p>
  </div>
  <% if @shipments.any? %>
    <div class="small-12 medium-4 columns">
      <div class="view-pdf-button small-only-text-center medium-text-right">
        <%= link_to invoices_shipments_path(search: params[:search]), target: '_blank' do %>
          <i class="fi-page-multiple"></i> View All Shipment Pdfs
        <% end %>
      </div>
    </div>
  <% end %>
</div>
<%= render partial: 'search_form', object: @search_form %>
<table class="responsive-table">
  <thead>
    <tr>
      <th scope="col">Invoice</th>
      <th scope="col">Date</th>
      <th scope="col">Client</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <% @shipments.each do |shipment| %>
      <tr class="js-clickableRow" href='<%= "#{edit_shipment_path(shipment)}" %>'>
        <th scope="row"><%= shipment.invoice_number %></th>
        <td data-title="Date"><%= shipment.date %></td>
        <td data-title="Client Name"><%= shipment.client_name %></td>
        <td data-title="Action">
          <%= link_to edit_shipment_path(shipment) do %>
            <span class="table-action-icon" data-tooltip aria-haspopup="true" data-options="show_on:medium" title="Edit Shipment"><i class="fi-page-edit"></i></span>
          <% end %>
          <%= link_to invoice_shipment_path(shipment, format: :pdf), target: "_blank" do %>
            <span class="table-action-icon" data-tooltip aria-haspopup="true" data-options="show_on:medium" title="Invoice"><i class="fi-page-export-pdf"></i></span>
          <% end %>
          <%= link_to packing_slip_shipment_path(shipment, format: :pdf), target: "_blank" do %>
            <span class="table-action-icon" data-tooltip aria-haspopup="true" data-options="show_on:medium" title="Packing Slip"><i class="fa fa-truck fa-1"></i></span>
          <% end %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>

<div class="shipment-pagination">
  <%= will_paginate @shipments %>
</div>
