<% provide(:title, "Print Recipes - #{@date.strftime('%A %b. %e, %Y')}") %>

<h1>Print Recipes &mdash; <%= @date.strftime("%A %b. %e, %Y") %></h1>

<%= simple_form_for :search, method: :get do |f| %>
  <div class="row collapse">
    <div class="small-12 medium-3 columns">
      <%= f.input :date, input_html: { value: @date.strftime("%Y-%m-%d"), class: "js-datepicker", name: :date}, required: false %>
    </div>
    <div class="small-12 medium-3 columns end">
      <%= f.submit 'Search', class: "button postfix search-button", name: nil %>
    </div>
  </div>
<% end %>

<% if @products.any? %>
  <fieldset>
    <legend>Products</legend>
    <div class="row collapse show-for-large-up">
      <div class="small-12 columns">
        <div class="row collapse">
          <div class="small-12 medium-6 columns">
            <%= label :name, "Name"%>
          </div>
          <div class="small-12 medium-2 columns">
            <%= label :count, "Original Qty"%>
          </div>
          <div class="small-12 medium-2 columns">
            <%= label :over_bake, "Adjusted Qty"%>
          </div>
          <div class="small-12 medium-2 columns end">
            <%= label :over_bake_percentage, "percentage"%>
          </div>
        </div>
      </div>
    </div>
    <% @products.each do |product| %>
      <div class="row collapse">
        <div class="small-12 medium-6 columns">
          <%= label :name, "Name", class: "hide-for-large-up"%>
          <input ng-disabled="true" type="text" value="<%= product.product.name %>" />
        </div>
        <div class="small-12 medium-2 columns">
          <%= label :count, "Original Qty", class: "hide-for-large-up"%>
          <input ng-disabled="true" type="text" value="<%= product.count %>" />
        </div>
        <div class="small-12 medium-2 columns">
          <%= label :over_bake, "Adjusted Qty", class: "hide-for-large-up"%>
          <input type="text" value="<%= product.over_bake %>" />
        </div>
        <div class="small-12 medium-2 columns end">
        <%= label :over_bake_percentage, "percentage", class: "hide-for-large-up"%>
          <input ng-disabled="true" type="text" value='<%= "#{product.over_bake_percentage}%" %>' />
        </div>
        <hr class="show-for-small-only">
      </div>
    <% end %>
  </fieldset>
<% end %>
